<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference | NewsWhip</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell","php"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="php">php</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#getting-api-access'>Sign Up for a Developer Key</a></li>
            <li><p>¬© 2016 NewsWhip Media Ltd.</p></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="overview">Overview</h1>

<p>Welcome to the NewsWhip API documentation. The NewsWhip API provides access to real time data trends, aggregate data, statistics, and social numbers for all content we have been tracking since January 1, 2014 - hundreds of millions of stories, fully categorized and ranked.</p>

<p>The NewsWhip API is language agnostic. Any HTTP client or library can be used with this API.</p>

<p>This documentation is open source. If you&rsquo;ve found any errors, typos or would like to improve this document, feel free to send us a pull request: <a href="http://github.com/NewsWhip/slate">GitHub</a>.</p>

<h1 id="authentication">Authentication</h1>

<p>All NewsWhip API endpoints require an API key. Your API key should be passed with each <code class="prettyprint">GET</code> or <code class="prettyprint">POST</code> request as a Query String.</p>

<p><code class="prettyprint">GET /v1/region/U.S./Politics/24?key=YOUR_API_KEY</code></p>

<p><code class="prettyprint">POST /v1/articles?key=YOUR_API_KEY</code></p>

<aside class="warning">Your API key should be treated as a password. It should be kept secret at all times.</aside>

<h2 id="getting-api-access">Getting API Access</h2>

<p>Our API is made available to NewsWhip clients and developers who wish to work with streams of trending content in any niche. Right now, it&rsquo;s powering widgets on major news sites, internal dashboards, and mobile apps in Europe and North America.</p>

<p>For details on getting access, email: <a href="mailto:api@newswhip.com">api@newswhip.com</a>.</p>

<h1 id="rate-limits">Rate Limits</h1>

<p>Each API key is limited by default to 100 API requests per 5 minutes. Once you exceed this limit, calls will return:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many kittens! Slow down!</td>
</tr>
</tbody></table>

<aside class="notice">Contact us at api@newswhip.com if your application requires higher limits.</aside>

<h1 id="api-endpoints">API Endpoints</h1>

<p>NewsWhip provides 2 different endpoints designed for different use cases, each available at varying commercial rates.</p>

<ul>
<li><code class="prettyprint">GET</code> requests: best suited for finding real-time trending articles in any niche and social network, with or without video and published in any country up to a week ago.</li>
<li><code class="prettyprint">POST</code> requests: best suited for very precise article filtering, real-time analytics, aggregations and reporting. These APIs slice and dice our data in any form you want.</li>
</ul>

<h3 id="https-endpoint">HTTPS Endpoint</h3>

<p><code class="prettyprint">https://api.newswhip.com/</code></p>

<h1 id="get-requests">GET Requests</h1>

<p>The real-time GET API endpoints are designed to mirror Spike&rsquo;s functionality. You can get all trending content in any Niche or Region, ordered by any social metric.</p>

<p>There are 4 different endpoints:</p>

<ul>
<li><code class="prettyprint">GET /v1/region/{region}/{category}/{time_period}</code></li>
<li><code class="prettyprint">GET /v1/publisher/{publisher}/{time_period}</code></li>
<li><code class="prettyprint">GET /v1/local/{city}/All/{time_period}</code></li>
<li><code class="prettyprint">GET /v1/search?q={search_term}</code></li>
</ul>

<p>All 4 GET endpoints accept the following Query Parameters:</p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>video_only</td>
<td>false</td>
<td>If set to true, the result will ONLY include content with embedded video.</td>
</tr>
<tr>
<td>sort_by</td>
<td>default</td>
<td>Defines how the articles are ranked. Accepts one of the following: <code class="prettyprint">default</code>, <code class="prettyprint">fb_total_engagement</code>, <code class="prettyprint">twitter</code>, <code class="prettyprint">linkedin</code>, <code class="prettyprint">fb_tw_and_li</code>, <code class="prettyprint">nw_score</code>, <code class="prettyprint">nw_max_score</code></td>
</tr>
<tr>
<td>size</td>
<td></td>
<td>Number of articles to be returned (including related articles).</td>
</tr>
</tbody></table>

<p>To retrieve a full list of the available fields for each filter (regions, categories, publishers), access:</p>

<h3 id="available-regions-and-categories">Available Regions and Categories</h3>

<p><code class="prettyprint">GET /v1/region</code></p>

<h3 id="sample-of-publishers-we-support">Sample of publishers we support</h3>

<p><code class="prettyprint">GET /v1/publisher</code></p>

<h3 id="available-cities-and-local-regions">Available cities and local regions</h3>

<p><code class="prettyprint">GET /v1/local</code></p>

<h2 id="get-/v1/region">GET /v1/region</h2>

<blockquote>
<p>Get the top trending English content published in the last 24 hours</p>
</blockquote>
<pre><code class="highlight shell">curl <span class="s2">"https://api.newswhip.com/v1/region/World/All/24?key=YOUR_API_KEY"</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">GuzzleHttp\Client</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Client</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'https://api.newswhip.com/v1/region/World/All/24?key=YOUR_API_KEY'</span><span class="p">,</span> <span class="p">[]);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"articles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.fcbarcelona.com/football/first-team/news/2016-2017/fc-barcelona-v-leicester-city-victory-in-the-battle-of-champions-4-2-"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"headline"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FC Barcelona v Leicester City: Victory in the battle of champions (4-2) | FC Barcelona"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"excerpt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goals from Munir (2) and Luis Su√°rez put Bar√ßa in early command, and a late strike from M√∫jica puts paid to Premiership champions‚Äô bid to make a comeback"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"publisher"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fcbarcelona.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://fcbarcelona.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"nw_score"</span><span class="p">:</span><span class="w"> </span><span class="mf">637.4492809499226</span><span class="p">,</span><span class="w">
      </span><span class="s2">"max_nw_score"</span><span class="p">:</span><span class="w"> </span><span class="mf">3814.5714659846194</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fb_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"total_engagement_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">62988</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_count_delta"</span><span class="p">:</span><span class="w"> </span><span class="mi">9820</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delta_period"</span><span class="p">:</span><span class="w"> </span><span class="mi">208</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delta_period_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tw_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"tw_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">480</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_count_delta"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delta_period"</span><span class="p">:</span><span class="w"> </span><span class="mi">208</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delta_period_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"li_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"li_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_count_delta"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delta_period"</span><span class="p">:</span><span class="w"> </span><span class="mi">208</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delta_period_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tw_creator"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"delta_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">208</span><span class="p">,</span><span class="w">
      </span><span class="s2">"recent_fb_counts"</span><span class="p">:</span><span class="w"> </span><span class="mi">9820</span><span class="p">,</span><span class="w">
      </span><span class="s2">"recent_tw_counts"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9cb602c0-59b7-11e6-aec9-8557dc1ae32f"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"publication_timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1470255517000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"image_link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pro-cdn-public-fcb.everincloud.com/20157/0/document_thumbnail/20197/163/163/14590883/1.0-1/14590883.png?t=1453214443000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"relatedStories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.goal.com/en/match/barcelona-vs-leicester-city/2223206/report"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"headline"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Barcelona 4 - 2 Leicester City Match report - 8/3/16 International Champions Cup - Goal.com"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"excerpt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Read the full Barcelona v Leicester City match report, including goals, incidents, and much more. Have your say on the game in our comments feature."</span><span class="p">,</span><span class="w">
          </span><span class="s2">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"publisher"</span><span class="p">:</span><span class="w"> </span><span class="s2">"goal.com"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://goal.com"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"nw_score"</span><span class="p">:</span><span class="w"> </span><span class="mf">514.8946690316512</span><span class="p">,</span><span class="w">
          </span><span class="s2">"max_nw_score"</span><span class="p">:</span><span class="w"> </span><span class="mf">1740.3519248567559</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fb_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"total_engagement_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">44464</span><span class="p">,</span><span class="w">
            </span><span class="s2">"total_count_delta"</span><span class="p">:</span><span class="w"> </span><span class="mi">8736</span><span class="p">,</span><span class="w">
            </span><span class="s2">"delta_period"</span><span class="p">:</span><span class="w"> </span><span class="mi">254</span><span class="p">,</span><span class="w">
            </span><span class="s2">"delta_period_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"tw_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"tw_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w">
            </span><span class="s2">"total_count_delta"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"delta_period"</span><span class="p">:</span><span class="w"> </span><span class="mi">254</span><span class="p">,</span><span class="w">
            </span><span class="s2">"delta_period_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"li_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"li_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"total_count_delta"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"delta_period"</span><span class="p">:</span><span class="w"> </span><span class="mi">254</span><span class="p">,</span><span class="w">
            </span><span class="s2">"delta_period_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"tw_creator"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"delta_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">254</span><span class="p">,</span><span class="w">
          </span><span class="s2">"recent_fb_counts"</span><span class="p">:</span><span class="w"> </span><span class="mi">8736</span><span class="p">,</span><span class="w">
          </span><span class="s2">"recent_tw_counts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a39d81a0-59b5-11e6-8992-ffce69f79e2d"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"publication_timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1470254187000</span><span class="p">,</span><span class="w">
          </span><span class="s2">"image_link"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="s2">"relatedStories"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="s2">"topics"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w">
              </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sports"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w">
              </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Soccer"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="s2">"has_video"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"topics"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"has_video"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code class="prettyprint">GET /v1/region/{region}/{category}/{time_period}</code></p>

<p>This endpoint retrieves all articles published in <code class="prettyprint">{region}</code> and <code class="prettyprint">{category}</code> within the <code class="prettyprint">{time_period}</code>.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>region</td>
<td>Filters articles published in <code class="prettyprint">{region}</code>. See above for available countries. i.e. <code class="prettyprint">U.S.</code>, <code class="prettyprint">France</code>, <code class="prettyprint">Ireland</code>. Note: the region should be passed in English.</td>
</tr>
<tr>
<td>category</td>
<td>Filters articles by <code class="prettyprint">{category}</code>. See above for available categories. i.e. <code class="prettyprint">All</code>, <code class="prettyprint">News</code>, <code class="prettyprint">Pre-Viral</code>. Note: the category should be passed in English.</td>
</tr>
<tr>
<td>time_period</td>
<td>Filters articles published within the last <code class="prettyprint">{time_period}</code> hours. Valid <code class="prettyprint">time_periods</code> range from 1 up to 168 hours</td>
</tr>
</tbody></table>

<h2 id="get-/v1/publisher">GET /v1/publisher</h2>

<blockquote>
<p>Get the top trending content published in the last 24 hours by the New York Times.</p>
</blockquote>
<pre><code class="highlight shell">curl <span class="s2">"https://api.newswhip.com/v1/publisher/nytimes.com/24?key=YOUR_API_KEY"</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">GuzzleHttp\Client</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Client</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'https://api.newswhip.com/v1/publisher/nytimes.com/24?key=YOUR_API_KEY'</span><span class="p">,</span> <span class="p">[]);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>

<p><code class="prettyprint">GET /v1/publisher/{publisher}/{time_period}</code></p>

<p>This endpoint retrieves all articles published by <code class="prettyprint">{publisher}</code> within the <code class="prettyprint">{time_period}</code>.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>publisher</td>
<td>Any domain or subdomain. i.e. <code class="prettyprint">nytimes.com</code>, <code class="prettyprint">blog.newswhip.com</code>.</td>
</tr>
<tr>
<td>time_period</td>
<td>Filters articles published within the last <code class="prettyprint">{time_period}</code> hours. Valid <code class="prettyprint">time_periods</code> range from 1 up to 168 hours</td>
</tr>
</tbody></table>

<h2 id="get-/v1/local">GET /v1/local</h2>

<blockquote>
<p>Get the top trending content published in Seattle, in the last 12 hours.</p>
</blockquote>
<pre><code class="highlight shell">curl <span class="s2">"https://api.newswhip.com/v1/local/Seattle, WA/All/12?key=YOUR_API_KEY"</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">GuzzleHttp\Client</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Client</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'https://api.newswhip.com/v1/local/Seattle, WA/All/12?key=YOUR_API_KEY'</span><span class="p">,</span> <span class="p">[]);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>

<p><code class="prettyprint">GET /v1/local/{city}/All/{time_period}</code></p>

<p>This endpoint retrieves all articles published in <code class="prettyprint">{city}</code> within the <code class="prettyprint">{time_period}</code>.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>city</td>
<td>Any city or local region. See above for available local regions. i.e. <code class="prettyprint">New York, NY</code>, <code class="prettyprint">London</code>, <code class="prettyprint">Toronto</code>, <code class="prettyprint">Hamburg-Schleswig-Holstein</code>.</td>
</tr>
<tr>
<td>time_period</td>
<td>Filters articles published within the last <code class="prettyprint">{time_period}</code> hours. Valid <code class="prettyprint">time_periods</code> range from 1 up to 168 hours</td>
</tr>
</tbody></table>

<h2 id="get-/v1/search">GET /v1/search</h2>

<blockquote>
<p>Get the top trending content published talking about <code class="prettyprint">Tom Cruise</code>, in the last 24 hours.</p>
</blockquote>
<pre><code class="highlight shell">curl <span class="s2">"https://api.newswhip.com/v1/search?q=Tom%20Cruise&amp;key=YOUR_API_KEY"</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">GuzzleHttp\Client</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Client</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'https://api.newswhip.com/v1/search?q=Tom%20Cruise&amp;key=YOUR_API_KEY'</span><span class="p">,</span> <span class="p">[]);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>

<p><code class="prettyprint">GET /v1/search?q={search_term}</code></p>

<p>This endpoint retrieves all articles talking about <code class="prettyprint">{search_term}</code> in the last 24 hours.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>search_term</td>
<td>Matches all stories containing <code class="prettyprint">{search_term}</code>.</td>
</tr>
</tbody></table>

<h1 id="post-requests">POST Requests</h1>

<p>The POST API endpoints are designed for increased flexibility and are much more powerful. With these server-side only endpoints your application gets full access to NewsWhip&rsquo;s database, including all content published within the last 6 months from any publisher in any supported language. Filtered, sorted and aggregated by any field you want.</p>

<p>There are 2 different endpoints:</p>

<ul>
<li><code class="prettyprint">POST /v1/articles</code> - provides content by matching it against a set of filters</li>
<li><code class="prettyprint">POST /v1/stats</code> - provides stats on the content matching the filters provided</li>
</ul>

<h2 id="post-/v1/articles">POST /v1/articles</h2>

<blockquote>
<p>Get the top trending stories published in United States or United Kingdom that talk about Rihanna not published in youtube.com since a week ago</p>
</blockquote>
<pre><code class="highlight shell">curl -H <span class="s2">"Content-Type: application/json"</span> -X POST -d <span class="s1">'{
    "filters": ["country_code:us OR country_code:gb and -publisher:youtube.com and headline:rihanna"],
    "language": "en",
    "video_only":false,
    "sort_by": "nw_max_score",
    "find_related": false,
    "size": 1
}'</span> <span class="s2">"https://api.newswhip.com/v1/articles?key=YOUR_API_KEY"</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">GuzzleHttp\Client</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Client</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'https://api.newswhip.com/v1/articles?key=YOUR_API_KEY'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">],</span>
    <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="s1">'{
        "filters": [
            "country_code:us OR country_code:gb and -publisher:youtube.com and headline:rihanna"
        ],
        "language": "en",
        "video_only":false,
        "sort_by": "nw_max_score",
        "find_related": false,
        "size": 1
    }'</span><span class="p">]);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"articles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.etonline.com/news/193862_celine_dion_slays_impressions_of_cher_sia_and_rihanna_on_tonight_show/"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"headline"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Celine Dion Slays Impressions of Cher, Sia, and Rihanna on ‚ÄòTonight Show‚Äô"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"excerpt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The singer even twerked to Rihanna!"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="s2">"celine dion,jimmy fallon,tonight show,Wheel of Impressions"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"publisher"</span><span class="p">:</span><span class="w"> </span><span class="s2">"etonline.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://etonline.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United States"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"us"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"nw_score"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.8004523617691546</span><span class="p">,</span><span class="w">
      </span><span class="s2">"max_nw_score"</span><span class="p">:</span><span class="w"> </span><span class="mf">1206.030546972232</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fb_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"total_engagement_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">28527</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_count_delta"</span><span class="p">:</span><span class="w"> </span><span class="mi">78</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delta_period"</span><span class="p">:</span><span class="w"> </span><span class="mi">839</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delta_period_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tw_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"tw_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">110</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_count_delta"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delta_period"</span><span class="p">:</span><span class="w"> </span><span class="mi">839</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delta_period_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"li_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"li_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_count_delta"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delta_period"</span><span class="p">:</span><span class="w"> </span><span class="mi">839</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delta_period_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tw_creator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rachel McRady"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"delta_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">839</span><span class="p">,</span><span class="w">
      </span><span class="s2">"recent_fb_counts"</span><span class="p">:</span><span class="w"> </span><span class="mi">78</span><span class="p">,</span><span class="w">
      </span><span class="s2">"recent_tw_counts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ecc1ca00-4fef-11e6-9e85-8b1fd34d6bab"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"publication_timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1469179492000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"image_link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.etonline.com/media/video/2016/07/24256059/et_celinedion_072116_hulu.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"relatedStories"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"topics"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Entertainment"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">699</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Celebrity"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"has_video"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Get the top trending Facebook posts published in United States or United Kingdom that talk about Rihanna not published in youtube.com since a week ago</p>
</blockquote>
<pre><code class="highlight shell">curl -H <span class="s2">"Content-Type: application/json"</span> -X POST -d <span class="s1">'{
    "filters": ["country_code:us OR country_code:gb and -publisher:youtube.com and headline:rihanna"],
    "language": "en",
    "video_only":false,
    "sort_by": "nw_max_score",
    "find_related": false,
    "size": 1,
    "content_type": "fb_posts"
}'</span> <span class="s2">"https://api.newswhip.com/v1/articles?key=YOUR_API_KEY"</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">GuzzleHttp\Client</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Client</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'https://api.newswhip.com/v1/articles?key=YOUR_API_KEY'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">],</span>
    <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="s1">'{
        "filters": [
            "country_code:us OR country_code:gb and -publisher:youtube.com and headline:rihanna"
        ],
        "language": "en",
        "video_only":false,
        "sort_by": "nw_max_score",
        "find_related": false,
        "size": 1,
        "content_type": "fb_posts"
    }'</span><span class="p">]);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"articles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.facebook.com/21785951839/posts/10154828396751840"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"headline"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C√©line Dion Flawlessly Does Sia, Rihanna And Michael Jackson's Impressions On \"Wheel Of Musical\" | 9GAG.tv"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"excerpt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"She absolutely killed the Rihanna oneÔªø! üò± üëçüèª"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"publisher"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9gag.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://9gag.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"nw_score"</span><span class="p">:</span><span class="w"> </span><span class="mf">293.6889989229701</span><span class="p">,</span><span class="w">
      </span><span class="s2">"max_nw_score"</span><span class="p">:</span><span class="w"> </span><span class="mf">4386.930955036105</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fb_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"total_engagement_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">38186</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_count_delta"</span><span class="p">:</span><span class="w"> </span><span class="mi">4071</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delta_period"</span><span class="p">:</span><span class="w"> </span><span class="mi">211</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delta_period_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"comments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1151</span><span class="p">,</span><span class="w">
          </span><span class="s2">"likes"</span><span class="p">:</span><span class="w"> </span><span class="mi">34347</span><span class="p">,</span><span class="w">
          </span><span class="s2">"shares"</span><span class="p">:</span><span class="w"> </span><span class="mi">2688</span><span class="p">,</span><span class="w">
          </span><span class="s2">"loves"</span><span class="p">:</span><span class="w"> </span><span class="mi">1690</span><span class="p">,</span><span class="w">
          </span><span class="s2">"wows"</span><span class="p">:</span><span class="w"> </span><span class="mi">168</span><span class="p">,</span><span class="w">
          </span><span class="s2">"hahas"</span><span class="p">:</span><span class="w"> </span><span class="mi">2632</span><span class="p">,</span><span class="w">
          </span><span class="s2">"sads"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="s2">"angrys"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"fb_post"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"post_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Link"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"page_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9GAG"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"external_link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://9gag.com/tv/p/al7Z4Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tw_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"tw_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_count_delta"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delta_period"</span><span class="p">:</span><span class="w"> </span><span class="mi">211</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delta_period_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"li_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"li_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_count_delta"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delta_period"</span><span class="p">:</span><span class="w"> </span><span class="mi">211</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delta_period_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tw_creator"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"delta_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">211</span><span class="p">,</span><span class="w">
      </span><span class="s2">"recent_fb_counts"</span><span class="p">:</span><span class="w"> </span><span class="mi">4071</span><span class="p">,</span><span class="w">
      </span><span class="s2">"recent_tw_counts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e9d7920-51c9-11e6-ac9d-695918d06269"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"publication_timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1469383500000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"image_link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://external.xx.fbcdn.net/safe_image.php?d=AQD5xuMpNiZCMO0y&amp;url=http%3A%2F%2Fcdn-jarvis-fun.9cache.com%2Fmedia%2Fphoto%2FpRQVbOydQ_1200w_v1.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"relatedStories"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"topics"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">285</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Viral Sites"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"has_video"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code class="prettyprint">POST /v1/articles</code></p>

<p>This endpoint retrieves all articles matching the filters provided.</p>

<h3 id="parameters">Parameters</h3>

<ul>
<li>Stories are filtered and sorted using the following <code class="prettyprint">JSON</code> encoded parameters.</li>
<li>Required fields are denoted *.</li>
<li>Filtering by category or country requires ids which can be found here: <a href="http://www.newswhip.com/api#regions-covered">NewsWhip API</a></li>
</ul>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>filters*</td>
<td></td>
<td>Array[String]</td>
<td>List of <a href="https://lucene.apache.org/core/4_10_2/queryparser/org/apache/lucene/queryparser/classic/package-summary.html#package_description">Lucene QueryString</a> filters to be applied to the articles. See available fields for filtering below.</td>
</tr>
<tr>
<td>from</td>
<td>A week ago</td>
<td>Unix timestamp in milliseconds</td>
<td>Filters articles published after <code class="prettyprint">{from}</code>.</td>
</tr>
<tr>
<td>to</td>
<td>Now</td>
<td>Unix timestamp in milliseconds</td>
<td>Filters articles published before <code class="prettyprint">{to}</code>.</td>
</tr>
<tr>
<td>language</td>
<td>Any</td>
<td>Two letter ISO 639-1 language code</td>
<td></td>
</tr>
<tr>
<td>sort_by</td>
<td>default</td>
<td>String</td>
<td>One of the following: <code class="prettyprint">default</code>, <code class="prettyprint">fb_total_engagement</code>, <code class="prettyprint">twitter</code>, <code class="prettyprint">linkedin</code>, <code class="prettyprint">fb_tw_and_li</code>, <code class="prettyprint">nw_score</code>, <code class="prettyprint">nw_max_score</code>, <code class="prettyprint">created_at</code>. When searching by the content_type <code class="prettyprint">fb_posts</code> it&rsquo;s possible sort by <code class="prettyprint">fb_likes</code>, <code class="prettyprint">fb_shares</code>, <code class="prettyprint">fb_comments</code>, <code class="prettyprint">fb_loves</code>, <code class="prettyprint">fb_wows</code>, <code class="prettyprint">fb_hahas</code>, <code class="prettyprint">fb_sads</code>, <code class="prettyprint">fb_angrys</code>.</td>
</tr>
<tr>
<td>video_only</td>
<td>false</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>default_field</td>
<td>Relevant fields</td>
<td>String</td>
<td>Field to be used when filtering by keywords (like <code class="prettyprint">&quot;Barack Obama&quot;</code>) and no fields are used in the Query String.</td>
</tr>
<tr>
<td>size</td>
<td></td>
<td>Integer</td>
<td>Max number of articles to be returned (includes relatedStories.)</td>
</tr>
<tr>
<td>find_related</td>
<td>true</td>
<td>Boolean</td>
<td>Related stories will be collapsed when set.</td>
</tr>
<tr>
<td>content_type</td>
<td>stories</td>
<td>String</td>
<td>Filters by one of the following types: <code class="prettyprint">stories</code>, <code class="prettyprint">fb_posts</code>, <code class="prettyprint">youtube</code>.</td>
</tr>
</tbody></table>

<h3 id="available-fields-for-filtering">Available fields for filtering</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>headline</td>
<td></td>
</tr>
<tr>
<td>summary</td>
<td></td>
</tr>
<tr>
<td>authors</td>
<td></td>
</tr>
<tr>
<td><del>country</del></td>
<td>Number. Deprecated: use country_code instead</td>
</tr>
<tr>
<td>country_code</td>
<td>Two letter (lower case) ISO 3166 country code</td>
</tr>
<tr>
<td>region_code</td>
<td>Available regions (lower case): <code class="prettyprint">na</code>, <code class="prettyprint">eu</code>, <code class="prettyprint">oc</code>, <code class="prettyprint">sea</code>, <code class="prettyprint">sa</code>, <code class="prettyprint">as</code>, <code class="prettyprint">me</code>, <code class="prettyprint">af</code></td>
</tr>
<tr>
<td>language</td>
<td>Two letter ISO 639-1 language code</td>
</tr>
<tr>
<td>categories</td>
<td>Number</td>
</tr>
<tr>
<td>publisher</td>
<td>TLD such as newswhip.com</td>
</tr>
<tr>
<td>domain</td>
<td>Exact domain where the article was published. i.e. blog.newswhip.com</td>
</tr>
<tr>
<td>href</td>
<td></td>
</tr>
</tbody></table>

<aside class="notice">Due to historical reasons, the queryable fields `headline` and `summary` differ in naming from their `Article` counterparts `link` and `excerpt`.</aside>

<h2 id="post-/v1/stats">POST /v1/stats</h2>

<blockquote>
<p>Get the top English language publishers that create the best performing content on Facebook about <code class="prettyprint">&quot;3d printing&quot;</code> since a week ago</p>
</blockquote>
<pre><code class="highlight shell">curl -H <span class="s2">"Content-Type: application/json"</span> -X POST -d <span class="s1">'{
    "filters": [
        "3d printing"
    ],
    "language" : "en",
    "sort_by" : "fb_total.sum",
    "aggregate_by" : "domain"
}'</span> <span class="s2">"https://api.newswhip.com/v1/stats?key=YOUR_API_KEY"</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">GuzzleHttp\Client</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Client</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'https://api.newswhip.com/v1/stats?key=YOUR_API_KEY'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">],</span>
    <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="s1">'{
        "filters": [
            "3d printing"
        ],
        "language" : "en",
        "sort_by" : "fb_total.sum",
        "aggregate_by" : "domain"
    }'</span><span class="p">]);</span>
<span class="k">echo</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight json"><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"geek.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fb_total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"min"</span><span class="p">:</span><span class="w"> </span><span class="mi">56</span><span class="p">,</span><span class="w">
        </span><span class="s2">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">3839</span><span class="p">,</span><span class="w">
        </span><span class="s2">"avg"</span><span class="p">:</span><span class="w"> </span><span class="mf">1609.3333333333333</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sum"</span><span class="p">:</span><span class="w"> </span><span class="mi">4828</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sum_of_squares"</span><span class="p">:</span><span class="w"> </span><span class="mi">15611546</span><span class="p">,</span><span class="w">
        </span><span class="s2">"variance"</span><span class="p">:</span><span class="w"> </span><span class="mf">2613894.888888889</span><span class="p">,</span><span class="w">
        </span><span class="s2">"std_deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">1616.7544306074715</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"twitter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"min"</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w">
        </span><span class="s2">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
        </span><span class="s2">"avg"</span><span class="p">:</span><span class="w"> </span><span class="mf">133.33333333333334</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sum"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sum_of_squares"</span><span class="p">:</span><span class="w"> </span><span class="mi">60200</span><span class="p">,</span><span class="w">
        </span><span class="s2">"variance"</span><span class="p">:</span><span class="w"> </span><span class="mf">2288.8888888888882</span><span class="p">,</span><span class="w">
        </span><span class="s2">"std_deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">47.84233364802441</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"pinterest"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"min"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"avg"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sum"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sum_of_squares"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="s2">"variance"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"std_deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4142135623730951</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"linkedin"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"min"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="s2">"avg"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sum"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sum_of_squares"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
        </span><span class="s2">"variance"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.666666666666666</span><span class="p">,</span><span class="w">
        </span><span class="s2">"std_deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.943920288775949</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">5237</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p><code class="prettyprint">POST /v1/stats</code></p>

<p>This endpoint retrieves stats for articles matching your filters.</p>

<h3 id="parameters">Parameters</h3>

<p>Stories are filtered and sorted using the following JSON encoded parameters.
Required fields are denoted *. Filtering by category or country requires ids which can be found here: <a href="http://www.newswhip.com/api#regions-covered">NewsWhip API</a></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>filters*</td>
<td></td>
<td>Array[String]</td>
<td>List of Lucene QueryString filters to be applied to the articles. See available fields for filtering above.</td>
</tr>
<tr>
<td>from</td>
<td>A week ago</td>
<td>Unix timestamp in milliseconds</td>
<td>Filters articles published after {from}.</td>
</tr>
<tr>
<td>to</td>
<td>Now</td>
<td>Unix timestamp in milliseconds</td>
<td>Filters articles published before {to}.</td>
</tr>
<tr>
<td>language</td>
<td>Any</td>
<td>Two letter ISO 639-1 language code</td>
<td></td>
</tr>
<tr>
<td>sort_by*</td>
<td></td>
<td>String.{aggregation_name}.{stat_value}</td>
<td><code class="prettyprint">{aggregation_name}</code> is one of <code class="prettyprint">fb_total</code>, <code class="prettyprint">twitter</code>, <code class="prettyprint">linkedin</code>, <code class="prettyprint">pinterest</code> and <code class="prettyprint">{stat_value}</code> is one of <code class="prettyprint">count</code>, <code class="prettyprint">min</code>, <code class="prettyprint">max</code>, <code class="prettyprint">avg</code>, <code class="prettyprint">sum</code>, <code class="prettyprint">sum_of_squares</code>, <code class="prettyprint">variance</code>, <code class="prettyprint">std_dev</code>.</td>
</tr>
<tr>
<td>aggregate_by*</td>
<td></td>
<td>String</td>
<td>Groups all matched stories by any of the following: <code class="prettyprint">publisher</code>, <code class="prettyprint">domains</code>, <code class="prettyprint">domain</code>, <code class="prettyprint">language</code>, <code class="prettyprint">authors</code>, <code class="prettyprint">country</code>, <code class="prettyprint">categories</code></td>
</tr>
<tr>
<td>video_only</td>
<td>false</td>
<td></td>
<td></td>
</tr>
<tr>
<td>default_field</td>
<td>Relevant fields</td>
<td>String</td>
<td>Field to be used when filtering by keywords (like <code class="prettyprint">&quot;Barack Obama&quot;</code>) and no fields are used in the Query String.</td>
</tr>
<tr>
<td>size</td>
<td></td>
<td>Integer</td>
<td>Max number of aggregations to be returned.</td>
</tr>
</tbody></table>

<h1 id="entities">Entities</h1>

<h2 id="article">Article</h2>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>link</td>
<td></td>
</tr>
<tr>
<td>headline</td>
<td></td>
</tr>
<tr>
<td>excerpt</td>
<td>summary for the story</td>
</tr>
<tr>
<td>source.publisher</td>
<td>domain of source publication</td>
</tr>
<tr>
<td>source.link</td>
<td>website of source publication</td>
</tr>
<tr>
<td><del>source.country</del></td>
<td>deprecated</td>
</tr>
<tr>
<td>source.country_code</td>
<td>country of source publication</td>
</tr>
<tr>
<td>nw_score</td>
<td>NewsWhip&rsquo;s current social speed for the story</td>
</tr>
<tr>
<td>fb_data</td>
<td>An object describing total and recent Facebook interactions</td>
</tr>
<tr>
<td>tw_data</td>
<td>An object describing total and recent Twitter interactions</td>
</tr>
<tr>
<td>li_data</td>
<td>An object describing total and recent LinkedIn interactions</td>
</tr>
<tr>
<td>tw_creator</td>
<td>Nullable. Where available, the creator&rsquo;s Twitter handle as supplied through Twitter Cards</td>
</tr>
<tr>
<td>uuid</td>
<td>NewsWhip&rsquo;s unique story identifier</td>
</tr>
<tr>
<td>publication_timestamp</td>
<td>Timestamp representing when the article was published</td>
</tr>
<tr>
<td>image_link</td>
<td>Where available, link to the source&rsquo;s featured image</td>
</tr>
<tr>
<td>relatedStories</td>
<td>List of <code class="prettyprint">Article</code> related to this story</td>
</tr>
<tr>
<td>topics</td>
<td>List of <code class="prettyprint">Topic</code></td>
</tr>
<tr>
<td>keywords</td>
<td>comma separated string of keywords attributed to this story</td>
</tr>
<tr>
<td>has_video</td>
<td>set to <code class="prettyprint">true</code> when the story has an embedded video</td>
</tr>
</tbody></table>

<h2 id="topic">Topic</h2>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>NewsWhip&rsquo;s unique id for this Topic</td>
</tr>
<tr>
<td>name</td>
<td>English name for this topic</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<p>The NewsWhip API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request could not be parsed</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; Your API key is not allowed to access this resource. Your API key is expired or invalid.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; Enhance your calm! or contact us for higher limits!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Please try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

<h1 id="more-information">More Information</h1>

<h2 id="server-side-caching">Server-side Caching</h2>

<ul>
<li><code class="prettyprint">GET</code> queries are cached (per API Key) for a small amount of time. Usually about 3 minutes. Check the HTTP headers sent by our servers for an exact value.</li>
<li><code class="prettyprint">POST</code> queries are never cached.</li>
</ul>

<h2 id="cross-origin-resource-sharing">Cross-Origin Resource Sharing</h2>

<ul>
<li><code class="prettyprint">GET</code> endpoints support 1 <code class="prettyprint">Cross-origin resource sharing</code> per API key. Contact api@newswhip.com to set this up.</li>
<li><code class="prettyprint">POST</code> endpoints are server-side only.</li>
</ul>

<h2 id="jsonp">JSONP</h2>

<p>We don&rsquo;t currently support JSONP.</p>

<h1 id="changelog">Changelog</h1>

<h3 id="version-1.0.6-(2016-04-08)">Version 1.0.6 (2016-04-08)</h3>

<ul>
<li>Added option to sort by <code class="prettyprint">fb_total_engagement</code> in POST /v1/articles</li>
<li>Restricted option to sort by <code class="prettyprint">fb_likes</code>, <code class="prettyprint">fb_shares</code>, <code class="prettyprint">fb_comments</code>, <code class="prettyprint">fb_loves</code>, <code class="prettyprint">fb_wows</code>, <code class="prettyprint">fb_hahas</code>, <code class="prettyprint">fb_sads</code>, <code class="prettyprint">fb_angrys</code> only for <code class="prettyprint">content_type</code> <code class="prettyprint">fb_posts</code>  in POST /v1/articles</li>
<li>Removed <code class="prettyprint">fb_likes</code>, <code class="prettyprint">fb_shares</code>, <code class="prettyprint">fb_comments</code> from <code class="prettyprint">sort_by</code> in POST /v1/stats</li>
</ul>

<h3 id="version-1.0.5-(2016-20-06)">Version 1.0.5 (2016-20-06)</h3>

<ul>
<li>Added <code class="prettyprint">content_type</code> field in POST /v1/articles</li>
<li>Updated examples of POST /v1/articles</li>
</ul>

<h3 id="version-1.0.4-(2015-12-03)">Version 1.0.4 (2015-12-03)</h3>

<ul>
<li>Fixed typo in GET /v1/search example</li>
</ul>

<h3 id="version-1.0.3-(2015-07-09)">Version 1.0.3 (2015-07-09)</h3>

<ul>
<li>Added <code class="prettyprint">region_code</code> and <code class="prettyprint">domain</code> to available fields for filtering</li>
<li>Added <code class="prettyprint">keywords</code> field to Article entity</li>
</ul>

<h3 id="version-1.0.2-(2015-03-03)">Version 1.0.2 (2015-03-03)</h3>

<ul>
<li>Added <code class="prettyprint">has_video</code> field to Article entity</li>
</ul>

<h3 id="version-1.0.1-(2015-02-11)">Version 1.0.1 (2015-02-11)</h3>

<ul>
<li>Added a new <code class="prettyprint">sort_by</code> method: <code class="prettyprint">created_at</code> to sort by most recent</li>
<li>The filtering field <code class="prettyprint">country</code> is deprecated, use <code class="prettyprint">country_code</code> instead</li>
<li>In Entities, Article. The field <code class="prettyprint">country_code</code> replaces <code class="prettyprint">country</code>. The contents of <code class="prettyprint">country</code> will be set to &lsquo;World&rsquo;</li>
</ul>

<h3 id="version-1.0.0-(2014-11-21)">Version 1.0.0 (2014-11-21)</h3>

<ul>
<li>First public version</li>
</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="php">php</a>
          </div>
      </div>
    </div>
  </body>
</html>
